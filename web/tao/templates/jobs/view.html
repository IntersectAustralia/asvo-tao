{% extends '_base.html' %}

{% load url from future %}

{% block content %}
    <div>
        <h1>Viewing Job</h1>
        <div>
            <div>
                <strong>Parameters</strong>
                <span>
                    {{ job.parameters|linebreaks }}
                </span>
            </div>
            <div>
                <strong>Files</strong>

                {% if job.is_completed %}
                    <ul id='id_completed_jobs'>
                        {% for file in files %}
                            <li>
                                <a href="{% url 'get_file' job.id file %}">
                                    {{ file }}
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                    {% if job.can_download_zip_file %}
                        <a id='id_download_as_zip' href="{% url 'get_zip_file' job.id %}">
                            Download zip file
                        </a>
                    {% else %}
                        (Zip file exceeds maximum download size.)
                    {% endif %}
                {% else %}
                    <p>
                        This job has not completed (and hence has no output).
                    </p>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock content %}
